@model IceCream.Models.Account
@{
    ViewData["Title"] = "QuanLyUser";
    Layout = "~/Views/SharedAdmin/_LayoutAdmin.cshtml";
}


<div id="page-wrapper">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">  ManagerUser</h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">


                    </div>
                    <!-- /.panel-heading -->
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                                <thead>
                                    <tr>
                                        <th>Id</th>
                                        <th>UserName</th>
                                        <th>Avatar</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Fullname</th>
                                        <th>Gender</th>
                                        <th>DayofBirth</th>
                                        <th>Address</th>
                                        <th>Role</th>
                                        <th>Money</th>
                                        <th>Status</th>

                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (var user in ViewBag.User)
                                    {
                                        <tr class="odd gradeX">
                                            <td>@user.AccId</td>
                                            <td>@user.AccUsername</td>
                                            <td>
                                                <img src="~/img/avatar/@user.AccAvatar" width="100" height="100" alt="">
                                            </td>
                                            <td>@user.AccEmail</td>
                                            <td>@user.AccPhone</td>
                                            <td>@user.AccFullname</td>
                                            <td>@user.AccGender </td>
                                            <td class="center">@user.AccDob.ToString(string.Format("dd/MM/yyyy")) </td>
                                            <td>@user.AccAddr</td>
                                            <td>@(user.AccRole == 1?"user":"admin")</td>
                                            <td>@user.AccMoney</td>
                                            <td>
                                                <form method="post" asp-controller="quanlyuser" asp-action="edit" enctype="multipart/form-data" id="FormUser">
                                                    <script type="text/javascript">
                                                        $('input[type=checkbox]').click(function () {
                                                            document.getElementById("FormUser").submit();
                                                        });


                                                    </script>

                                                    <div class="form-group">
                                                        @if (user.AccStatus == 1)
                                                        {
                                                            <script type="text/javascript">
                                                            document.getElementById("checkboxId").checked = true;

                                                            </script>

                                                        }
                                                        <label>Choose status</label>
                                                        <label>
                                                            <input type="checkbox" asp-for="AccStatus" id="checkboxId" value="@(user.AccStatus == 1)?0:1">@(user.AccStatus == 1)?"Actives":"Blocked"
                                                        </label>
                                                    </div>
                                                </form>
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>
                        </div>
                        <!-- /.table-responsive -->

                    </div>
                    <!-- /.panel-body -->
                </div>
                <!-- /.panel -->
            </div>
            <!-- /.col-lg-12 -->
        </div>

    </div>
</div>
<script>
    $(document).ready(function () {

        $('#imageFile').change(function (evt) {

            var files = evt.target.files;
            var file = files[0];

            if (file) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById('preview').src = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        });
    });</script>



